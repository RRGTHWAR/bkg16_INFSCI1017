package bkg16_Music;

import java.util.UUID;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

public class SongManager {
	public void createSong(int songID, String title) {
		EntityManagerFactory emFactory =
				Persistence.createEntityManagerFactory("bkg16_MusicSong");
		
		EntityManager em = emFactory.createEntityManager();
		
		em.getTransaction().begin();
		Song s = new Song();
		
		s.setSongID(UUID.randomUUID().toString());
		s.setTitle(title);
		
		//Add song object to ORM object grid
		em.persist(s);
		
		//Commit transaction
		em.getTransaction().commit();
		
		//Close connection to persistence manager
		em.close();
		emFactory.close();
		
	}
}
